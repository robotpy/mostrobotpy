extra_includes:
- wpi/sendable/Sendable.h
- nanobind/stl/function.h

classes:
  frc::LiveWindow:
    methods:
      SetEnabledCallback:
      SetDisabledCallback:
      EnableTelemetry:
        keepalive:
        - [1, 2]
      DisableTelemetry:
        keepalive:
        - [1, 2]
      DisableAllTelemetry:
      EnableAllTelemetry:
      IsEnabled:
      SetEnabled:
      UpdateValues:

inline_code: |
  static int unused;
  nb::capsule cleanup(&unused, [](void *) noexcept {
    frc::LiveWindow::SetEnabledCallback(nullptr);
    frc::LiveWindow::SetDisabledCallback(nullptr);
  });
  m.attr("_lw_cleanup") = cleanup;
