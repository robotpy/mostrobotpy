classes:
  nt::NetworkTableListener:
    force_type_casters:
    - std::function
    methods:
      NetworkTableListener:
        overloads:
          '':
      CreateListener:
        overloads:
          NetworkTableInstance, std::span<const std::string_view>, unsigned int, ListenerCallback:
          Topic, unsigned int, ListenerCallback:
          Subscriber&, unsigned int, ListenerCallback:
          MultiSubscriber&, unsigned int, ListenerCallback:
          NetworkTableEntry&, unsigned int, ListenerCallback:
      CreateConnectionListener:
      CreateTimeSyncListener:
      CreateLogger:
      GetHandle:
      WaitForQueue:
    inline_code: |
      .def("close", [](NetworkTableListener *self) {
        nb::gil_scoped_release release;
        *self = NetworkTableListener();
      }, "Destroys the listener")
      .def("__enter__", [](NetworkTableListener *self) {
        return self;
      })
      .def("__exit__", [](NetworkTableListener *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = NetworkTableListener();
      })
  nt::NetworkTableListenerPoller:
    methods:
      NetworkTableListenerPoller:
        overloads:
          '':
          NetworkTableInstance:
      GetHandle:
      AddListener:
        overloads:
          std::span<const std::string_view>, unsigned int:
          Topic, unsigned int:
          Subscriber&, unsigned int:
          MultiSubscriber&, unsigned int:
          NetworkTableEntry&, unsigned int:
      AddConnectionListener:
      AddTimeSyncListener:
      AddLogger:
      RemoveListener:
      ReadQueue:
    inline_code: |
      .def("addLogger", [](NetworkTableListenerPoller *self,
          nt::NetworkTableInstance::LogLevel minLevel,
          nt::NetworkTableInstance::LogLevel maxLevel) {
        nb::gil_scoped_release release;
        return self->AddLogger(static_cast<unsigned int>(minLevel), static_cast<unsigned int>(maxLevel));
      }, nb::arg("minLevel"), nb::arg("maxLevel"))
      .def("close", [](NetworkTableListenerPoller *self) {
        nb::gil_scoped_release release;
        *self = NetworkTableListenerPoller();
      }, "Destroys the poller")
      .def("__enter__", [](NetworkTableListenerPoller *self) {
        return self;
      })
      .def("__exit__", [](NetworkTableListenerPoller *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = NetworkTableListenerPoller();
      })
