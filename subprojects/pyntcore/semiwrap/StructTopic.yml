classes:
  nt::StructSubscriber:
    template_params:
    - T
    - I
    methods:
      StructSubscriber:
        overloads:
          '':
            ignore: true
          NT_Subscriber, T, I...:
            ignore: true
      Get:
        overloads:
          '[const]':
          const T& [const]:
      GetInto:
        ignore: true
      GetAtomic:
        overloads:
          '[const]':
          const T& [const]:
      ReadQueue:
      GetTopic:
    inline_code: |
      .def("close", [](nt::StructSubscriber<T, I> *self) {
        nb::gil_scoped_release release;
        *self = nt::StructSubscriber<T, I>();
      }, "Destroys the subscriber")
      .def("__enter__", [](nt::StructSubscriber<T, I> *self) {
        return self;
      })
      .def("__exit__", [](nt::StructSubscriber<T, I> *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = nt::StructSubscriber<T, I>();
      })
  nt::StructPublisher:
    template_params:
    - T
    - I
    methods:
      StructPublisher:
        overloads:
          '':
            ignore: true
          NT_Publisher, I...:
            ignore: true
      Set:
      SetDefault:
      GetTopic:
    inline_code: |
      .def("close", [](nt::StructPublisher<T, I> *self) {
        nb::gil_scoped_release release;
        *self = nt::StructPublisher<T, I>();
      }, "Destroys the publisher")
      .def("__enter__", [](nt::StructPublisher<T, I> *self) {
        return self;
      })
      .def("__exit__", [](nt::StructPublisher<T, I> *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = nt::StructPublisher<T, I>();
      })
  nt::StructEntry:
    ignored_bases:
    - StructPublisher<T, I...>
    template_params:
    - T
    - I
    base_qualnames:
      StructSubscriber: nt::StructSubscriber<T, I>
      StructPublisher: nt::StructPublisher<T, I>
    methods:
      StructEntry:
        overloads:
          '':
            ignore: true
          NT_Entry, T, const I&...:
            ignore: true
      GetHandle:
        ignore: true
      GetTopic:
      Unpublish:
    inline_code: |
      .def("close", [](nt::StructEntry<T, I> *self) {
        nb::gil_scoped_release release;
        *self = nt::StructEntry<T, I>();
      }, "Destroys the entry")
      .def("__enter__", [](nt::StructEntry<T, I> *self) {
        return self;
      })
      .def("__exit__", [](nt::StructEntry<T, I> *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = nt::StructEntry<T, I>();
      })
  nt::StructTopic:
    template_params:
    - T
    - I
    methods:
      StructTopic:
        overloads:
          '':
            ignore: true
          NT_Topic, I...:
            ignore: true
          Topic, I...:
            ignore: true
      Subscribe:
      Publish:
      PublishEx:
      GetEntry:
    inline_code: |
      .def("__init__", [](nt::StructTopic<T, I> *self, Topic topic, const nb::type_object &t) {
        WPyStructInfo info(t);
        new (self) nt::StructTopic<T, I>(topic, info);
      }, nb::arg("topic"), nb::arg("type"),
        "Construct from a generic topic.\n\n:param topic: Topic\n:param type: optional struct type info")
      .def("close", [](nt::StructTopic<T, I> *self) {
        nb::gil_scoped_release release;
        *self = nt::StructTopic<T, I>();
      }, "Destroys the topic")
      .def("__enter__", [](nt::StructTopic<T, I> *self) {
        return self;
      })
      .def("__exit__", [](nt::StructTopic<T, I> *self, nb::args args) {
        nb::gil_scoped_release release;
        *self = nt::StructTopic<T, I>();
      })
templates:
  StructSubscriber:
    qualname: nt::StructSubscriber
    params:
    - WPyStruct
    - WPyStructInfo
  StructPublisher:
    qualname: nt::StructPublisher
    params:
    - WPyStruct
    - WPyStructInfo
  StructEntry:
    qualname: nt::StructEntry
    params:
    - WPyStruct
    - WPyStructInfo
  StructTopic:
    qualname: nt::StructTopic
    params:
    - WPyStruct
    - WPyStructInfo
